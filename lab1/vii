#!/bin/bash
s="\!\#\$\%\&\'\*\/\-\+\=\?\^\_\`\{\|\}\~"
x="[a-zA-Z0-9$s\.]"
spec="\(\)\,\:\;\<\>\@\[\]\\"
y="(\"([$spec]|$x)+\")"
z="($x|$y)"


grep -E -h -s -o "$z+@$z+\.$z+" /etc/* | tr '\n' ',' > emails.lst
